/** @type {import('next').NextConfig} */
const nextConfig = {
  // Allow build to succeed even if ESLint/TS complains
  eslint: { ignoreDuringBuilds: true },
  typescript: { ignoreBuildErrors: true },

  // Proxy UI /api/* -> FastAPI http://api:8000/*
  async rewrites() {
    return [{ source: '/api/:path*', destination: 'http://api:8000/:path*' }];
  },

  // Provide a safe public base used by the UI code
  env: {
    NEXT_PUBLIC_API_BASE: process.env.NEXT_PUBLIC_API_BASE || '/api',
  },
};
module.exports = nextConfig;
