#1 [internal] load local bake definitions
#1 reading from stdin 671B done
#1 DONE 0.0s

#2 [internal] load build definition from Dockerfile
#2 transferring dockerfile: 622B done
#2 DONE 0.0s

#3 [internal] load metadata for docker.io/library/node:20-alpine
#3 DONE 0.0s

#4 [internal] load .dockerignore
#4 transferring context: 122B done
#4 DONE 0.0s

#5 [internal] load build context
#5 DONE 0.0s

#6 [1/7] FROM docker.io/library/node:20-alpine@sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799
#6 resolve docker.io/library/node:20-alpine@sha256:df02558528d3d3d0d621f112e232611aecfee7cbc654f6b375765f72bb262799 0.0s done
#6 CACHED

#5 [internal] load build context
#5 transferring context: 2.19kB done
#5 DONE 0.0s

#7 [2/7] RUN apk add --no-cache curl
#7 0.342 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/main/x86_64/APKINDEX.tar.gz
#7 0.492 fetch https://dl-cdn.alpinelinux.org/alpine/v3.22/community/x86_64/APKINDEX.tar.gz
#7 0.876 (1/9) Installing brotli-libs (1.1.0-r2)
#7 0.904 (2/9) Installing c-ares (1.34.5-r0)
#7 0.919 (3/9) Installing libunistring (1.3-r0)
#7 0.954 (4/9) Installing libidn2 (2.3.7-r0)
#7 0.967 (5/9) Installing nghttp2-libs (1.65.0-r0)
#7 0.979 (6/9) Installing libpsl (0.21.5-r3)
#7 0.992 (7/9) Installing zstd-libs (1.5.7-r0)
#7 1.011 (8/9) Installing libcurl (8.14.1-r1)
#7 1.028 (9/9) Installing curl (8.14.1-r1)
#7 1.045 Executing busybox-1.37.0-r18.trigger
#7 1.056 OK: 15 MiB in 27 packages
#7 DONE 1.2s

#8 [3/7] WORKDIR /app
#8 DONE 0.1s

#9 [4/7] COPY package*.json ./
#9 DONE 0.1s

#10 [5/7] RUN npm ci
#10 3.387 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#10 3.875 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
#10 4.052 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
#10 4.979 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
#10 5.295 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
#10 8.319 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
#10 19.16 
#10 19.16 added 321 packages, and audited 322 packages in 19s
#10 19.16 
#10 19.16 134 packages are looking for funding
#10 19.16   run `npm fund` for details
#10 19.21 
#10 19.21 1 critical severity vulnerability
#10 19.21 
#10 19.21 To address all issues, run:
#10 19.21   npm audit fix --force
#10 19.21 
#10 19.21 Run `npm audit` for details.
#10 19.21 npm notice
#10 19.21 npm notice New major version of npm available! 10.8.2 -> 11.5.2
#10 19.21 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2
#10 19.21 npm notice To update run: npm install -g npm@11.5.2
#10 19.21 npm notice
#10 DONE 19.6s

#11 [6/7] COPY . .
#11 DONE 0.2s

#12 [7/7] RUN npm run build
#12 0.465 
#12 0.465 > newui@0.1.0 prebuild
#12 0.465 > node scripts/guard-client-imports.mjs
#12 0.465 
#12 0.510 Client/import ordering looks good Î“Â£Ã 
#12 0.517 
#12 0.517 > newui@0.1.0 build
#12 0.517 > next build
#12 0.517 
#12 1.183 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#12 1.183 This information is used to shape Next.js' roadmap and prioritize features.
#12 1.183 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#12 1.183 https://nextjs.org/telemetry
#12 1.183 
#12 1.267    Î“Ã»â–“ Next.js 15.0.3
#12 1.267    - Environments: .env.local
#12 1.267 
#12 1.356    Creating an optimized production build ...
#12 6.143 Failed to compile.
#12 6.143 
#12 6.143 ./components/ChatControls.tsx
#12 6.143 Error:   [31mx[0m Expected unicode escape
#12 6.143     ,-[[36;1;4m/app/components/ChatControls.tsx[0m:23:1]
#12 6.143  [2m20[0m |     if (!msg.trim()) return;
#12 6.143  [2m21[0m |     setBusy(true);
#12 6.143  [2m22[0m |     try {
#12 6.143  [2m23[0m |       const res = await fetch(\\/chat\, {
#12 6.143     : [35;1m                               ^[0m
#12 6.143  [2m24[0m |         method: 'POST',
#12 6.143  [2m25[0m |         headers: { 'Content-Type': 'application/json' },
#12 6.143  [2m25[0m |         body: JSON.stringify({ message: msg })
#12 6.143     `----
#12 6.143 
#12 6.143 Caused by:
#12 6.143     Syntax Error
#12 6.143 
#12 6.143 Import trace for requested module:
#12 6.143 ./components/ChatControls.tsx
#12 6.143 ./components/ChatControlsClient.tsx
#12 6.143 
#12 6.165 
#12 6.165 > Build failed because of webpack errors
#12 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
------
 > [7/7] RUN npm run build:
6.143 
6.143 Caused by:
6.143     Syntax Error
6.143 
6.143 Import trace for requested module:
6.143 ./components/ChatControls.tsx
6.143 ./components/ChatControlsClient.tsx
6.143 
6.165 
6.165 > Build failed because of webpack errors
------
